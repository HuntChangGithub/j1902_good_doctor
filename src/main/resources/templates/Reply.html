<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>名医问答</title>
    <link rel="stylesheet" href="layui/css/layui.css" media="all"/>
    <link rel="stylesheet" href="layui/css/modules/layer/default/layer.css"/>
</head>
<style>
    .loginandreg{
        position: relative;
        top: -40px;
        left: 1080px;
    }
</style>
<script>
    //通过判断session的值是否为空，改变五个标签的hidden属性
    function searchSession() {
        var username = document.getElementById("uname").innerHTML;
        //获取五个标签对应的对象
        var logina = document.getElementById("logina");
        var rega = document.getElementById("rega");
        var helloa = document.getElementById("helloa");
        var uname = document.getElementById("uname");
        var logouta = document.getElementById("logouta");

        if (username != ""){
            //如果不为空，说明已登录
            logina.setAttribute("hidden",true);
            rega.setAttribute("hidden",true);
            helloa.removeAttribute("hidden");
            uname.removeAttribute("hidden");
            logouta.removeAttribute("hidden");
        }else {
            //否则说明未登录或已退出
            logina.removeAttribute("hidden");
            rega.removeAttribute("hidden");
            helloa.setAttribute("hidden",true);
            logouta.setAttribute("hidden",true);
            uname.setAttribute("hidden",true);

        }
    }
    window.onload=function () {
        searchSession();
    }
</script>
<body style="min-width: 1200px;overflow-x: hidden;overflow-y: auto">
<div>
    <div class="layui-head">
        <ul class="layui-nav">
            <li class="layui-nav-item"><a href="">丁香园</a></li>
            <li class="layui-nav-item"><a href="">论坛</a></li>
            <li class="layui-nav-item"><a href="">丁香通</a></li>
            <li class="layui-nav-item"><a href="">丁香客</a></li>
            <li class="layui-nav-item"><a href="">医药招聘</a></li>
            <li class="layui-nav-item"><a href="">文献求助</a></li>
            <li class="layui-nav-item">
                <a href="javascript:;">更多</a>
                <dl class="layui-nav-child">
                    <dd><a href="">会议</a></dd>
                    <dd><a href="">用药助手</a></dd>
                    <dd><a href="">丁当铺</a></dd>
                    <dd><a href="">定香搜索</a></dd>
                </dl>
            </li>
        </ul>
        <div>
            <a class="loginandreg" id="logina" href="login" style="background-color: transparent;">登录</a>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <a class="loginandreg" id="rega" href="reg" style="background-color: transparent;">注册</a>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <span class="loginandreg" id="helloa" style="background-color: transparent;">你好：</span>
            <span class="loginandreg" id="uname" style="background-color: transparent;" th:text="${session.username}" ></span>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <a class="loginandreg" id="logouta" href="logout" style="background-color: transparent;">退出</a>
        </div>
    </div>
    <div style="position:absolute;top: 100px; width: 100%;height: 60px" align="center" >
        <a href="questionandanswer.html"><img src="imgs/jxys.jpg" style="width: 120px;height: 60px"></a>
        <input style="height: 38px;width: 450px" type="text" placeholder="请输入疾病名/药品名"/>
        <button type="button" style="width: 100px;height: 40px" class="layui-btn">搜索</button>
    </div>
    <div style="position: absolute;top: 185px;left: 400px; font-size: 17px">
        <a href="detailedquestions">在线问诊</a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="questionandanswer">名医问答</a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="diseaseencyclopedia">疾病百科</a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="healthscience">健康科普</a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="featuredtopics">精选专题</a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="allhospital">全国医院</a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="familymedication">家庭用药</a>
    </div>
    <div style="position: absolute;top: 230px;width: 100%;height: 100%; background-color: #F5F5F5">
        <div style="position: relative;left: 200px;top: 20px">
            <a href="index">首页</a>
            &nbsp;&nbsp;
            <a href="#">类别</a>
            &nbsp;&nbsp;
            <a href="#">科室</a>
        </div>
        <div style="position: absolute;top: 80px;width: 900px;height:100%;left: 200px;background-color: #FFFFFF">
            <div style="position: absolute;top: 100px;left: 30px;box-shadow:darkgrey 0px 0px 30px ;width: 840px;height: 300px"></div>
            <div style="position: absolute;top: 150px;left: 30px;box-shadow:darkgrey 0px 0px 30px ;width: 840px;height: 300px">
                <div style="position: absolute;top: 20px;left: 10px">
                    <img style="width: 50px;height: 50px" src="imgs/wenti.png"/>
                    具体的提问
                </div>
                <div style="position: absolute;top: 150px;left: 10px">
                    <img style="width: 50px;height: 50px" src="imgs/yisheng.jpg">
                    医生的回复
                </div>
            </div>
        </div>
        <a href="doctor">
            <div style="position: absolute;top:80px;left: 1130px;background-color: #ffffff;width: 220px;height: 360px  ">
                <div style="position: absolute;left: 30px;top: 25px">
                    <img src="imgs/hushi.jpg" style="width: 150px;height: 100px">
                </div>
                <div style="position: absolute;left: 45px;top: 130px">
                    <ul style="line-height: 30px">
                        <li style="margin-left: 20px">桃子医生</li>
                        <li>海南省妇幼保健院</li>
                        <li style="margin-left: 25px">小儿眼科</li>
                    </ul>
                </div>
                <div style="position: absolute;left: 10px;top: 220px;font-size: 15px;color: #9F9F9F">眼科专家，擅长小儿眼科、激光治疗近视、斜视、黑影、眼痛、眼痒、磨眼、流泪、眼皮长包、眨眼频繁。</div>
                <a href="doctor" style="position: absolute;left: 85px;top: 300px;font-size: 17px; color: #5FB878">提问</a>
            </div>
        </a>
    </div>
</div>
<script src="layui/layui.js"></script>
<script src="layer/layer.js"></script>
<script src="layui/lay/modules/jquery.js"></script>
<script>
    layui.use('element', function(){
        var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块

        //监听导航点击
        element.on('nav(demo)', function(elem){
            //console.log(elem)
            layer.msg(elem.text());
        });
    });
</script>
<script>
    layui.use('flow', function(){
        var flow = layui.flow;

        flow.load({
            elem: '#LAY_demo1' //流加载容器
            ,scrollElem: '#LAY_demo1' //滚动条所在元素，一般不用填，此处只是演示需要。
            ,done: function(page, next){ //执行下一页的回调

                //模拟数据插入
                setTimeout(function(){
                    var lis = [];
                    for(var i = 0; i < 8; i++){
                        lis.push('<li>'+ ( (page-1)*8 + i + 1 ) +'</li>')
                    }

                    //执行下一页渲染，第二参数为：满足“加载更多”的条件，即后面仍有分页
                    //pages为Ajax返回的总页数，只有当前页小于总页数的情况下，才会继续出现加载更多
                    next(lis.join(''), page < 10); //假设总页数为 10
                }, 500);
            }
        });
    });
</script>
</body>
</html>